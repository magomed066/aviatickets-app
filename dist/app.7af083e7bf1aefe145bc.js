!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=343)}({130:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var s,a,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},333:function(e,t,n){var r=n(334);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(341)(r,i);r.locals&&(e.exports=r.locals)},334:function(e,t,n){var r=n(130),i=n(335),o=n(336),s=n(337),a=n(338),l=n(339),c=n(340);(t=r(!1)).i(i);var d=o(s),u=o(a),h=o(l),f=o(c);t.push([e.i,'@font-face{font-family:"Roboto";src:url('+d+') format("truetype");font-weight:100}@font-face{font-family:"Roboto";src:url('+u+') format("truetype");font-weight:300}@font-face{font-family:"Roboto";src:url('+h+') format("truetype");font-weight:400}@font-face{font-family:"Roboto";src:url('+h+') format("truetype");font-weight:500}@font-face{font-family:"Roboto";src:url('+f+') format("truetype");font-weight:700}:root{--color-primary: #eb2f64;--color-light: #FF3366;--color-dark: #BA265D;--color-grey-light-1: #faf9f9;--color-grey-light-2: #f4f2f2;--color-grey-light-3: #f0eeee;--color-grey-light-4: #ccc;--color-grey-dark-1: #333;--color-grey-dark-2: #777;--color-grey-dark-3: #999;--shadow-dark: 0 2rem 6rem rgba(0, 0, 0, .3);--shadow-light: 0 2rem 5rem rgba(0, 0, 0, .06);--line: 1px solid var(--color-grey-light-2)}*{margin:0;padding:0}*,*::after,*::before{box-sizing:inherit}html{box-sizing:border-box;font-size:62.5%}@media only screen and (max-width: 68.75em){html{font-size:50%}}body{background:#eb2f64;font-family:"Open Sans",sans-serif;font-weight:400;line-height:1.6;font-size:1.4rem;color:var(--color-grey-dark-2);background-image:linear-gradient(to right bottom, var(--color-primary-light), var(--color-primary-dark));background-size:cover;background-repeat:no-repeat}.main{max-width:120rem;margin:8rem auto;margin-top:10rem;background:#fff;min-height:50rem;border-radius:1rem;box-shadow:var(--shadow-dark);padding-bottom:3rem}.header{display:flex;align-items:center;justify-content:space-between;padding:2rem 2rem;border-bottom:1px solid var(--color-grey-light-2)}.header .select{position:relative;background:var(--color-grey-light-2);font-size:1.4rem;max-width:20rem;width:100%;cursor:pointer;z-index:5000;border-radius:.5rem}.header .select-overlay{display:none;position:absolute;left:0;right:0;bottom:0;top:0;z-index:-1}.header .select.active{border-bottom-left-radius:0;border-bottom-right-radius:0}.header .select.active .select-list{opacity:1;z-index:22}.header .select.active .select-overlay{display:block}.header .select__title{padding:1rem;color:#000;display:flex;align-items:center;justify-content:space-between}.header .select__title .icon{transition:all .1s}.header .select__title .icon.active{transform:rotate(180deg)}.header .select-list{position:absolute;list-style:none;background:#fff;box-shadow:var(--shadow-light);opacity:0;z-index:-1;width:100%}.header .select-list__item{padding:1rem 2rem;color:var(--color-grey-dark-1);transition:all .1s}.header .select-list__item:not(:last-child){border-bottom:1px solid var(--color-grey-light-2)}.header .select-list__item.active{background:var(--color-grey-light-2)}.header .select-list__item:hover{background:var(--color-grey-light-2);cursor:pointer}.header .select-list__item.selected{background:var(--color-grey-light-2)}.section{width:100%;height:30rem;position:relative;background:url("https://images.unsplash.com/photo-1609408341205-861253559a83?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1374&q=80");background-repeat:no-repeat;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;flex-direction:column}.section__bg{position:absolute;left:0;right:0;bottom:0;top:0}.section__bg::before{content:"";position:absolute;left:0;right:0;bottom:0;top:0;background:rgba(0,0,0,.541);z-index:1}.section .form{position:relative;color:#fff;font-size:1.6rem;display:flex;flex-direction:column;align-items:center;z-index:10}.section .form .input{background:var(--color-grey-light-2);padding:0 2rem 0 0;height:5rem;border-radius:.5rem;display:flex;align-items:center;position:relative}.section .form .input.active{border-bottom-left-radius:0;border-bottom-right-radius:0}.section .form .input.active .input-list{opacity:1}.section .form .input i{color:var(--color-primary);margin-left:1.5rem}.section .form-groups{display:flex}.section .form-group{display:flex;flex-direction:column;width:25rem}.section .form-group:not(:last-child){margin-right:2rem}.section .form-group label{margin-bottom:1rem}.section .form__control{border:none;font-size:1.6rem;padding-left:1rem;align-self:stretch;background:transparent;color:var(--color-grey-dark-1);width:100%}.section .form__control:focus{outline:none}.section .btns-group{position:relative;z-index:1;margin-top:2rem;display:flex}.section .btns-group .btn-clear{background:var(--color-primary);color:#fff;display:flex;align-items:center}.section .btns-group .btn-clear i{margin-right:1rem}.section .btns-group .btn-search{display:flex;align-items:center;background:#043b8f;color:#fff;margin-left:2rem;display:flex;align-items:center}.section .btns-group .btn-search i{margin-right:1rem}.input-list{position:absolute;left:0;right:0;top:5rem;background:var(--color-grey-light-2);list-style:none;z-index:9000;color:var(--color-grey-dark-2);max-height:20rem;overflow-y:scroll}.input-list__item{padding:1rem 2rem;transition:all .3s;cursor:pointer}.input-list__item:hover{background:#cecece}.empty-message{text-align:center;margin-top:2rem;color:var(--color-primary)}.tickets-container{width:100%;padding:1rem 2rem}.ticket{width:40rem;padding:2rem;box-shadow:var(--shadow-dark);border-radius:.5rem}.ticket-header{display:flex;align-items:center}.ticket__title{font-size:1.8rem;margin-left:1rem}.ticket__logo{width:10rem;height:10rem}.ticket-cities{display:flex;align-items:center;justify-content:space-between;margin-top:1rem;font-size:#000;padding:1rem 0;border-top:1px dashed var(--color-grey-dark-2);border-bottom:1px dashed var(--color-grey-dark-2)}.ticket-cities span{font-size:1.6rem;color:#000}.ticket-cities i{color:var(--color-primary);margin-right:1rem}.ticket-footer{display:flex;align-items:center;justify-content:space-between;margin-top:2rem}.ticket-footer .price{background:var(--color-primary);color:#fff;padding:1rem 2rem;font-size:1.8rem;font-weight:bold}.ticket-footer .date{color:#000}.datepicker-input::-webkit-calendar-picker-indicator{position:absolute;left:0;top:0;width:100%;height:100%;margin:0;padding:0;cursor:pointer;opacity:0}.btn{background:none;outline:none;border:none;padding:1rem 2rem;font-size:1.6rem;border-radius:.5rem;cursor:pointer}',""]),e.exports=t},335:function(e,t,n){(t=n(130)(!1)).push([e.i,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n',""]),e.exports=t},336:function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},337:function(e,t,n){e.exports=n.p+"4f0b85f5b601a405bdc7b23aad6d2a47.ttf"},338:function(e,t,n){e.exports=n.p+"6090d256d88dcd7f0244eaa4a3eafbba.ttf"},339:function(e,t,n){e.exports=n.p+"f36638c2135b71e5a623dca52b611173.ttf"},340:function(e,t,n){e.exports=n.p+"9ece5b48963bbc96309220952cda38aa.ttf"},341:function(e,t,n){var r,i,o={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=a.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,d=0,u=[],h=n(342);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(v(r.parts[s],t))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(v(r.parts[s],t));o[r.id]={id:r.id,refs:1,parts:a}}}}function p(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function m(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(e.insertAt.before,n);n.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function b(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var s=d++;n=c||(c=b(t)),r=k.bind(null,n,s,!1),i=k.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),r=_.bind(null,n,t),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),r=C.bind(null,n),i=function(){g(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var s=n[i];(a=o[s.id]).refs--,r.push(a)}e&&f(p(e,t),t);for(i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var w,x=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function k(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function C(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function _(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=h(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},342:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},343:function(e,t,n){"use strict";n.r(t);n(333);var r=class{constructor(e,t){this.$el=document.querySelector(e),this.options=t,this.selectedId=t.selectedId,this._render(),this._listen()}_render(){const{placeholder:e,data:t}=this.options;this.$el.innerHTML=function(e,t=[],n){let r=e||"";const i=t.map(e=>{let t="";return e.id===n&&(r=e.label,t="selected"),`<li class="select-list__item ${t}" data-type="item" data-currency="${e.value}" data-id="${e.id}">${e.label}</li>`});return`\n    <div class="select__overlay" data-type="overlay"></div>\n    <div class="select__title" data-type="input">\n      <span data-type="value">${r}</span>\n      <i class="fas fa-chevron-down icon" data-type="arrow"></i>\n    </div>\n    <ul class="select-list">\n      ${i.join("")}\n    </ul>\n  `}(e,t,this.selectedId)}_listen(){this.onClickHandler=this.onClickHandler.bind(this),this.$el.addEventListener("click",this.onClickHandler),this.$arrow=this.$el.querySelector('[data-type="arrow"]'),this.$value=this.$el.querySelector('[data-type="value"]')}onClickHandler(e){const{type:t}=e.target.dataset;if("input"===t)this.toggleClass();else if("item"===t){const{id:t}=e.target.dataset;this.select(t)}else"overlay"===t&&this.close()}select(e){console.log(e),this.selectedId=e,this.$value.textContent=this.current.label,this.close(),this.$el.querySelectorAll(['[data-type="item"]']).forEach(e=>e.classList.remove("selected")),this.$el.querySelector([`[data-id="${this.selectedId}"]`]).classList.add("selected")}get current(){return this.options.data.find(e=>e.id===+this.selectedId)}get isOpen(){return this.$el.classList.contains("active")}toggleClass(){this.isOpen?this.close():this.open()}open(){this.$el.classList.add("active"),this.$arrow.classList.remove("fa-chevron-down"),this.$arrow.classList.add("fa-chevron-up")}close(){this.$el.classList.remove("active"),this.$arrow.classList.remove("fa-chevron-up"),this.$arrow.classList.add("fa-chevron-down")}onClose(){}destroy(){this.$el.removeEventListener("click",this.onClickHandler),this.$el.remove()}};var i=function(e){return`${new Date(e).getFullYear()}-${new Date(e).getMonth()}`};var o={url:"https://aviasales-api.herokuapp.com"};var s=new class{constructor(e){this.url=e.url}async request(e=this.url,t="GET",n,r={"Content-type":"application/json"}){const i=await fetch(e,{method:t,headers:r,body:n});if(!i.ok)throw new Error(`Could not fetch url: ${e}, status: ${i.status}`);return await i.json()}async getCountries(){try{return await this.request(this.url+"/countries")}catch(e){return console.log(e),Promise.reject(e)}}async getCities(){try{return await this.request(this.url+"/cities")}catch(e){return console.log(e),Promise.reject(e)}}async getAirlines(){try{return await this.request(this.url+"/airlines")}catch(e){return console.log(e),Promise.reject(e)}}async getPrices(e){try{let t=new URL(this.url+"/prices/cheap");Object.keys(e).forEach(n=>t.searchParams.append(n,e[n]));return await this.request(t)}catch(e){return console.log(e),Promise.reject(e)}}}(o);var a=new class{constructor(e){this.service=e,this.countries=null,this.cities=null,this.shortCitiesList=null,this.lastSearch={},this.airlines={}}async init(){const e=await Promise.all([this.service.getCountries(),this.service.getCities(),this.service.getAirlines()]),[t,n,r]=e;return this.countries=this.serializeCountries(t),this.cities=this.serializeCities(n),this.shortCitiesList=this.createShortCitiesList(this.cities),this.airlines=this.serializeAirlines(r),console.log(this.cities),e}serializeCities(e){return e.reduce((e,t)=>{const n=this.countries[t.country_code].name;t.name=t.name||t.name_translations.en;const r=`${t.name},${n}`;return e[t.code]={...t,full_name:r,country_name:n},e},{})}serializeAirlines(e){return e.reduce((e,t)=>(t.logo=`https://pics.avs.io/200/200/${t.code}.png`,t.name=t.name||t.name_translations.en,e[t.code]=t,e),{})}getAirlineNameByCode(e){return this.airlines[e]?this.airlines[e].name:""}getAirlineLogoByCode(e){return this.airlines[e]?this.airlines[e].logo:""}getCityCodeByKey(e){return Object.values(this.cities).find(t=>t.full_name===e).code}getCityNameByCode(e){return this.cities[e].name}createShortCitiesList(e){return Object.entries(e).reduce((e,[,t])=>(e[t.full_name]=null,e),{})}serializeCountries(e){return e.reduce((e,t)=>(e[t.code]=t,e),{})}getCitiesByCountryCode(e){return this.cities.filter(t=>t.country_code===e)}async fetchTickets(e){const t=await this.service.getPrices(e);this.lastSearch=this.serializeTickets(t.data),console.log(this.lastSearch)}serializeTickets(e){return Object.values(e).map(e=>({...e,origin_name:this.getCityNameByCode(e.origin),destination_name:this.getCityNameByCode(e.destination),airline_logo:this.getAirlineLogoByCode(e.airline),airline_name:this.getAirlineNameByCode(e.airline)}))}}(s);var l=class{constructor(e,t){this.$el=document.querySelector(e),this.data=t.data,this.value=t.value,this.input=document.querySelector(t.input),this.render(),this.listeners()}onSelectItem(e){if(e.target.classList.contains("input-list__item")){const{item:t}=e.target.dataset;this.input.value=t,this.destroy()}}listeners(){this.onSelectItem=this.onSelectItem.bind(this),this.$el.addEventListener("click",this.onSelectItem)}render(){let e=this.data.filter(e=>{const t=new RegExp("^"+this.value,"gi");return e.match(t)});0===this.value.length&&(e=[],this.$el.innerHTML=""),this.outputHtml(e)}outputHtml(e){if(e.length>0){const t=e.map(e=>`\n          <li class="input-list__item" data-item='${e}'>${e}</li>\n        `).join("");this.$el.innerHTML=t}}destroy(){this.$el.removeEventListener("click",this.onSelectItem),this.$el.innerHTML=""}};var c=class{constructor(e,t){this.data=t,this.$el=document.querySelector(e),this.listeners()}listeners(){this.onInput(".input__destination","#destination",Object.keys(this.data)),this.onInput(".input__origin","#origin",Object.keys(this.data))}onInput(e,t,n){document.querySelector(`${e} ${t}`).addEventListener("input",(function(){new l(e+" .input-list",{value:this.value,data:n,input:t})}))}};var d=new class{constructor(){this._form=document.getElementById("form"),this._origin=document.getElementById("origin"),this._destination=document.getElementById("destination"),this._depart=document.getElementById("departDate"),this._return=document.getElementById("returnDate"),this._btnClear=document.querySelector(".btn-clear"),this.onClear=this.onClear.bind(this),this.onClear()}onClear(){this._form.reset()}get getForm(){return this._form}get btnClear(){return this._btnClear}};window.addEventListener("DOMContentLoaded",()=>{new r(".select",{placeholder:"$ USD",data:[{id:1,value:"usd",label:"$ USD"},{id:2,value:"eur",label:"€ EURO"}],selectedId:1});const e=document.querySelector(".main"),t=document.querySelector(".loading");e.style.display="none";async function n(){const e=[...new FormData(this)],t=Object.fromEntries(e),{origin:n,destination:r,departDate:o,returnDate:s}=t,l=a.getCityCodeByKey(n),c=a.getCityCodeByKey(r),d=i(o),u=i(s);await a.fetchTickets({origin:l,destination:c,depart_date:d,return_date:u}),this.reset()}d.getForm.addEventListener("submit",(function(e){e.preventDefault(),n.bind(this)()})),d.btnClear.addEventListener("click",d.onClear),async function(){await a.init(),t.remove(),e.style.display="block",console.log(a),new c(".input-list",a.shortCitiesList)}()})}});